package com.sample
 
import com.sample.DroolsTest.Answer
import com.sample.DroolsTest.GUI
import java.util.List
import java.util.ArrayList
import java.util.Arrays

global GUI gui

rule "Are you bankrolling this entire enterprise, player?"
	when
	then
		String question = "Are you bankrolling this entire enterprise, player?";
		List<String> answers = new ArrayList<>();
		answers.add("They pay half, I pay half. JK, i pay for most of it.");
		answers.add("Yes, against all scientific odds I'm made of money.");
		answers.add("No, my kid's take-home pay is higher than mine, so he's paying for all of it.");
	
		String choice = gui.display(question, answers);
		insert( new Answer(question, choice) );
end


rule "Who will spend their hard-earned cash on apps, overages and other charges your kid makes 'by mistake'?"
	when
		Answer(
			question == "Are you bankrolling this entire enterprise, player?" &&
			 (answer == "They pay half, I pay half. JK, i pay for most of it." ||
			  answer == "Yes, against all scientific odds I'm made of money.")
		  )
	then
		String question = "Who will spend their hard-earned cash on apps, overages and other charges your kid makes \"by mistake\"?";
		List<String> answers = new ArrayList<>();
		answers.add("She will. I mentioned it twice, so i think she gets it.");
		answers.add("Whatever, I'm a human ATM.");
		
		String choice = gui.display(question, answers);
		insert( new Answer(question, choice) );
end

rule "Mmm-hmm. What will you do next year when she wants a new phone?"
	when
		Answer(
			question == "Do you think she will answer your urgent calls and texts right away/quickly/ever?" &&
			answer == "No. It's like I'm invisible. Can you see me?"
		)
	then
		String question ="Mmm-hmm. What will you do next year when she wants a new phone?";
		List<String> answers = new ArrayList<>();
		answers.add("Whatever. I'm a human ATM.");
		answers.add("I will tell the story of how we used to land lines. And make her clean out the garbage.");
		
		String choice = gui.display(question, answers);
		insert( new Answer(question, choice) );
end

rule "DON'T GET A PHONE. Why not spend that money on a Disney cruise? That should buy you at least a year."
	when
		Answer(
			(question == "Are you about to snap under the crushing weight of constant whining?" &&
			answer == "Actually, he never brought it up. I was just thinking...")
			||
			(question == "Are you going to shell out extra money for Apple Care, extra insurance or an unbreakable case?" &&
			answer == "Is there an unbreakable case I can shove my kid into?")
			||
			(question == "Will you pony up and get him another phone?" &&
			answer == "What? NO. Get a job, you mooch.")
		)
	then
		String question = "DON'T GET A PHONE. Why not spend that money on a Disney cruise? That should buy you at least a year.";
		insert( new Answer(question, "exit") );
end

rule "GET THE PHONE AND DON'T LOOK BACK! You're aware of all of the frustrations, tears and money you'll go through, but it's still worth it. It's like having kids, except phones are way cooler."
	when 
		Answer(
			(question == "If you say yes, can you use this as leverage to get something you want?" &&
			answer == "Sweet. I can get a hot tub in the backyard!")
			||
			( (question == "Who will spend their hard-earned cash on apps, overages and other charges your kid makes \"by mistake?\"" 
				|| question == "Will you pony up and get him another phone?"
				|| question == "Are you going to shell out extra money for Apple Care, extra insurance or an unbreakable case?"
				|| question == "Mmm-hmm. What will you do next year when she wants a new phone?") &&			
			answer == "Whatever. I'm a human ATM.")
		)
	then
		String question = "GET THE PHONE AND DON'T LOOK BACK! You're aware of all of the frustrations, tears and money you'll go through, but it's still worth it. It's like having kids, except phones are way cooler.";
		insert( new Answer(question, "exit") );
end

rule "WHY ARE YOU EVEN ASKING? Get a phone, live your life and savour this beautiful time together."
	when
		Answer(
			(question == "Have you also promised her a puppy?" &&
			answer == "Yes. Finally, I shall be crowned as the greatest parent ever. Bow to me!")
			||
			(question == "Are you bankrolling this entire enterprise, player?" &&
			answer == "No, my kid's take-home pay is higher than mine, so he's paying for all of it.")
		)	
	then
		String question = "WHY ARE YOU EVEN ASKING? Get a phone, live your life and savour this beautiful time together.";
		insert( new Answer(question, "exit") );
end
		
rule "BUY KEVIN A PHONE! And congrats on creating your own A.I. Can you biuld me a Kevin too?"
	when 
		Answer(
			question == "Do you have a HUMAN child?" &&
			answer == "Kinda? I have a robot I built in my basement. I named him Kevin."
		)
	then
		String question = "BUY KEVIN A PHONE! And congrats on creating your own A.I. Can you biuld me a Kevin too?";
		insert( new Answer(question, "exit") );
end
		
rule "Exit"
	when
		ans: Answer(answer == "exit")
	then
		List<String> answers = new ArrayList<>();
		answers.add("Done :- )");
		gui.display(ans.question, answers);
		gui.dispose();
end